(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[254],{4434:function(e,s,a){Promise.resolve().then(a.bind(a,4213))},4213:function(e,s,a){"use strict";a.d(s,{default:function(){return i}});var r=a(5583),l=a(1780),n=a(7437),t=a(2265);function i(){let[e,s]=(0,t.useState)({name:"",email:"",phone:"",message:""}),[a,i]=(0,t.useState)({}),[o,d]=(0,t.useState)(null),[m,c]=(0,t.useState)({}),u=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),g=e=>/^[0-9\s\-\+\(\)]*$/.test(e)&&e.length>=10,b=(e,n)=>{s(s=>(0,l._)((0,r._)({},s),{[e]:n})),a[e]&&i(s=>(0,l._)((0,r._)({},s),{[e]:""}))},p=s=>{c(e=>(0,l._)((0,r._)({},e),{[s]:!0})),"email"===s&&e.email&&!u(e.email)&&i(e=>(0,l._)((0,r._)({},e),{email:"Ge\xe7erli bir e-posta giriniz"})),"phone"===s&&e.phone&&!g(e.phone)&&i(e=>(0,l._)((0,r._)({},e),{phone:"Ge\xe7erli bir telefon numarası giriniz"})),"name"!==s||e.name||i(e=>(0,l._)((0,r._)({},e),{name:"İsim gerekli"})),"message"!==s||e.message||i(e=>(0,l._)((0,r._)({},e),{message:"Mesaj gerekli"}))};async function h(a){a.preventDefault();let r={};if(e.name||(r.name="İsim gerekli"),e.email||(r.email="E-posta gerekli"),e.email&&!u(e.email)&&(r.email="Ge\xe7erli bir e-posta giriniz"),e.phone&&!g(e.phone)&&(r.phone="Ge\xe7erli bir telefon numarası giriniz"),e.message||(r.message="Mesaj gerekli"),Object.keys(r).length>0){i(r),c({name:!0,email:!0,phone:!0,message:!0});return}d("loading"),i({});try{let a=await fetch("/api/appointments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await a.json();if(!a.ok){d("error"),i({submit:r.error||"G\xf6nderim başarısız oldu. L\xfctfen tekrar deneyin."});return}d("success"),setTimeout(()=>{s({name:"",email:"",phone:"",message:""}),c({}),d(null)},2e3)}catch(e){console.error("Submit error:",e),d("error"),i({submit:e.message||"Bir hata oluştu. L\xfctfen tekrar deneyin."})}}return(0,n.jsxs)("div",{className:"w-full max-w-lg",children:["success"===o&&(0,n.jsxs)("div",{className:"mb-6 p-4 bg-green-50/80 border border-green-200 rounded-lg text-green-700 text-sm animate-pulse",children:[(0,n.jsx)("span",{className:"font-medium",children:"✓ Başarılı!"})," Talebiniz alındı. Kısa s\xfcre i\xe7inde sizinle iletişime ge\xe7eceğiz."]}),(0,n.jsxs)("form",{onSubmit:h,className:"space-y-5",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-mutedgold/90 mb-2",children:["İsim ",(0,n.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,n.jsx)("input",{id:"name",type:"text",value:e.name,onChange:e=>b("name",e.target.value),onBlur:()=>p("name"),placeholder:"Adınız",className:"w-full px-4 py-3 border-2 rounded-lg bg-white/50 backdrop-blur-sm transition-all focus:outline-none focus:bg-white/80 ".concat(a.name&&m.name?"border-red-400 focus:border-red-500":"border-mutedgold/20 focus:border-mutedgold/60"),"aria-invalid":!!a.name,"aria-describedby":a.name?"name-error":void 0}),a.name&&m.name&&(0,n.jsx)("p",{id:"name-error",className:"text-red-500 text-xs mt-1",children:a.name})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-mutedgold/90 mb-2",children:["E-posta ",(0,n.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,n.jsx)("input",{id:"email",type:"email",value:e.email,onChange:e=>b("email",e.target.value),onBlur:()=>p("email"),placeholder:"ornek@email.com",className:"w-full px-4 py-3 border-2 rounded-lg bg-white/50 backdrop-blur-sm transition-all focus:outline-none focus:bg-white/80 ".concat(a.email&&m.email?"border-red-400 focus:border-red-500":"border-mutedgold/20 focus:border-mutedgold/60"),"aria-invalid":!!a.email,"aria-describedby":a.email?"email-error":void 0}),a.email&&m.email&&(0,n.jsx)("p",{id:"email-error",className:"text-red-500 text-xs mt-1",children:a.email})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{htmlFor:"phone",className:"block text-sm font-medium text-mutedgold/90 mb-2",children:["Telefon ",(0,n.jsx)("span",{className:"text-xs text-mutedgold/60",children:"(isteğe bağlı)"})]}),(0,n.jsx)("input",{id:"phone",type:"tel",value:e.phone,onChange:e=>b("phone",e.target.value),onBlur:()=>p("phone"),placeholder:"+90 555 555 55 55",className:"w-full px-4 py-3 border-2 rounded-lg bg-white/50 backdrop-blur-sm transition-all focus:outline-none focus:bg-white/80 ".concat(a.phone&&m.phone?"border-red-400 focus:border-red-500":"border-mutedgold/20 focus:border-mutedgold/60"),"aria-invalid":!!a.phone,"aria-describedby":a.phone?"phone-error":void 0}),a.phone&&m.phone&&(0,n.jsx)("p",{id:"phone-error",className:"text-red-500 text-xs mt-1",children:a.phone})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{htmlFor:"message",className:"block text-sm font-medium text-mutedgold/90 mb-2",children:["Mesaj ",(0,n.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,n.jsx)("textarea",{id:"message",value:e.message,onChange:e=>b("message",e.target.value),onBlur:()=>p("message"),placeholder:"Kısa bir mesaj bırakın... (\xf6r: Hangi koleksiyonlar ilginizi \xe7ekiyor?)",rows:5,className:"w-full px-4 py-3 border-2 rounded-lg bg-white/50 backdrop-blur-sm transition-all focus:outline-none focus:bg-white/80 resize-none ".concat(a.message&&m.message?"border-red-400 focus:border-red-500":"border-mutedgold/20 focus:border-mutedgold/60"),"aria-invalid":!!a.message,"aria-describedby":a.message?"message-error":void 0}),a.message&&m.message&&(0,n.jsx)("p",{id:"message-error",className:"text-red-500 text-xs mt-1",children:a.message})]}),a.submit&&"error"===o&&(0,n.jsx)("div",{className:"p-3 bg-red-50/80 border border-red-200 rounded-lg text-red-700 text-sm",children:a.submit}),(0,n.jsx)("button",{type:"submit",disabled:"loading"===o||"success"===o,className:"w-full px-6 py-3 bg-gradient-to-r from-mutedgold to-mutedgold/90 text-black font-medium rounded-lg hover:shadow-lg hover:from-mutedgold hover:to-mutedgold/80 transition-all disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-mutedgold/50 focus:ring-offset-2",children:"loading"===o?(0,n.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,n.jsx)("span",{className:"inline-block w-4 h-4 border-2 border-black border-t-transparent rounded-full animate-spin"}),"G\xf6nderiliyor..."]}):"success"===o?(0,n.jsx)("span",{className:"flex items-center justify-center gap-2",children:(0,n.jsx)("span",{children:"✓ G\xf6nderildi"})}):"Randevu Talep Et"}),(0,n.jsxs)("p",{className:"text-xs text-mutedgold/70 text-center",children:[(0,n.jsx)("span",{className:"text-red-400",children:"*"})," Gerekli alanlar"]})]})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=4434)}),_N_E=e.O()}]);